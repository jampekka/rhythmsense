{
  "version": 3,
  "sources": ["../log_worker.coffee"],
  "sourcesContent": ["file_handle = null\n\ninitialize = (msg) ->\n\t{dir, file} = msg.data\n\tfs_root = await navigator.storage.getDirectory()\n\tlog_dir = await fs_root.getDirectoryHandle dir, create: true\n\tlog_file = await log_dir.getFileHandle file, create: true\n\tfile_handle = await log_file.createSyncAccessHandle()\n\taddEventListener \"message\", write_log_entry\n\n\tself.postMessage \"initialized\"\n\nwrite_log_entry = (entry) ->\n\tif not file_handle?\n\t\tconsole.error \"Got a log entry before the file was opened!\"\n\t\treturn\n\tentry = entry.data\n\tentry = JSON.stringify(entry) + \"\\n\"\n\tentry = (new TextEncoder()).encode entry\n\tfile_handle.write entry\n\tfile_handle.flush()\n\naddEventListener \"message\", initialize, once: true\n"],
  "mappings": ";;;;;;;AAAA;;OAAA,WAAA;AAAA,YAAA,aAAA,YAAA;AAAA,sBAAc;AAEd,qBAAa,eAAC,KAAD;AACb,cAAA,KAAA,MAAA,SAAA,SAAA;AAAC,WAAA,EAAC,KAAK,KAAN,IAAc,IAAI;AAClB,oBAAU,MAAM,UAAU,QAAQ,aAAlB;AAChB,oBAAU,MAAM,QAAQ,mBAAmB,KAAK;YAAA,QAAQ;UAAR,CAAhC;AAChB,qBAAW,MAAM,QAAQ,cAAc,MAAM;YAAA,QAAQ;UAAR,CAA5B;AACjB,wBAAc,MAAM,SAAS,uBAAT;AACpB,2BAAiB,WAAW,eAA5B;iBAEA,KAAK,YAAY,aAAjB;QARY;AAUb,0BAAkB,SAAC,OAAD;AACjB,cAAO,eAAA,MAAP;AACC,oBAAQ,MAAM,6CAAd;AACA;;AACD,kBAAQ,MAAM;AACd,kBAAQ,KAAK,UAAU,KAAf,IAAwB;AAChC,kBAAS,IAAI,YAAJ,EAAmB,OAAO,KAA3B;AACR,sBAAY,MAAM,KAAlB;iBACA,YAAY,MAAZ;QARiB;AAUlB,yBAAiB,WAAW,YAAY;UAAA,MAAM;QAAN,CAAxC;;;;",
  "names": []
}
